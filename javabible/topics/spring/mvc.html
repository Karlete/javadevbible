<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Spring MVC Architecture - JavaDev Bible</title>
    <link rel="stylesheet" href="../../css/main.css">
    <link rel="stylesheet" href="../../css/syntax-highlighting.css">
</head>
<body class="topic-page">
    <header class="topic-header">
        <div class="header-content">
            <nav class="breadcrumb">
                <a href="../../index.html">Home</a> / <a href="../../index.html#spring">Spring Framework</a> / Spring MVC
            </nav>
            <h1>Spring MVC Architecture</h1>
            <p class="topic-subtitle">Building web applications with Model-View-Controller</p>
            <a href="../../index.html" class="back-btn">&larr; Back to Index</a>
        </div>
    </header>

    <main class="topic-content">
        <section class="content-section">
            <h2>What is Spring MVC?</h2>
            <p><strong>Think of Spring MVC like a restaurant:</strong></p>
            <ul>
                <li><strong>DispatcherServlet:</strong> The host who directs customers (requests)</li>
                <li><strong>Controller:</strong> The waiter who takes orders</li>
                <li><strong>Service:</strong> The kitchen that prepares food</li>
                <li><strong>Model:</strong> The food being served (data)</li>
                <li><strong>View:</strong> The plate presentation (HTML/JSON)</li>
            </ul>

            <div class="info-box">
                <p><strong>Spring MVC</strong> is a web framework built on the Servlet API that follows the Model-View-Controller design pattern. It provides:</p>
                <ul>
                    <li>Clean separation of concerns</li>
                    <li>Flexible request mapping</li>
                    <li>Support for multiple view technologies</li>
                    <li>Data binding and validation</li>
                </ul>
            </div>
        </section>

        <section class="content-section">
            <h2>Request Flow</h2>

            <pre><code>┌──────────────┐    ┌────────────────────┐    ┌────────────────┐
│   Browser    │───▶│  DispatcherServlet │───▶│  HandlerMapping│
└──────────────┘    └────────────────────┘    └────────────────┘
                              │                        │
                              │                        ▼
                              │                 ┌────────────────┐
                              │                 │   Controller   │
                              │                 └────────────────┘
                              │                        │
                              ▼                        ▼
                    ┌────────────────────┐    ┌────────────────┐
                    │   ViewResolver     │◀───│     Model      │
                    └────────────────────┘    └────────────────┘
                              │
                              ▼
                    ┌────────────────────┐
                    │       View         │───▶ Response
                    └────────────────────┘</code></pre>

            <ol>
                <li><strong>Request arrives</strong> at DispatcherServlet (Front Controller)</li>
                <li><strong>HandlerMapping</strong> finds the right Controller method</li>
                <li><strong>Controller</strong> processes request, returns Model and View name</li>
                <li><strong>ViewResolver</strong> finds the actual View template</li>
                <li><strong>View</strong> renders the Model into HTML/JSON response</li>
            </ol>
        </section>

        <section class="content-section">
            <h2>Controllers</h2>

            <h3>Basic Controller</h3>
            <pre><code><span class="annotation">@Controller</span>  <span class="comment">// Returns views (HTML pages)</span>
<span class="keyword">public class</span> <span class="class-name">HomeController</span> {

    <span class="annotation">@GetMapping</span>(<span class="string">"/"</span>)
    <span class="keyword">public</span> <span class="class-name">String</span> <span class="function">home</span>(<span class="class-name">Model</span> model) {
        model.addAttribute(<span class="string">"message"</span>, <span class="string">"Welcome!"</span>);
        <span class="keyword">return</span> <span class="string">"home"</span>;  <span class="comment">// Returns view name "home.html"</span>
    }
}

<span class="annotation">@RestController</span>  <span class="comment">// Returns data (JSON/XML)</span>
<span class="keyword">public class</span> <span class="class-name">ApiController</span> {

    <span class="annotation">@GetMapping</span>(<span class="string">"/api/data"</span>)
    <span class="keyword">public</span> <span class="class-name">DataResponse</span> <span class="function">getData</span>() {
        <span class="keyword">return new</span> <span class="class-name">DataResponse</span>(<span class="string">"Hello"</span>);  <span class="comment">// Converted to JSON</span>
    }
}

<span class="comment">// @RestController = @Controller + @ResponseBody</span></code></pre>

            <h3>Request Mapping</h3>
            <pre><code><span class="annotation">@Controller</span>
<span class="annotation">@RequestMapping</span>(<span class="string">"/products"</span>)  <span class="comment">// Base path for all methods</span>
<span class="keyword">public class</span> <span class="class-name">ProductController</span> {

    <span class="comment">// GET /products</span>
    <span class="annotation">@GetMapping</span>
    <span class="keyword">public</span> <span class="class-name">String</span> <span class="function">list</span>(<span class="class-name">Model</span> model) {
        <span class="keyword">return</span> <span class="string">"products/list"</span>;
    }

    <span class="comment">// GET /products/123</span>
    <span class="annotation">@GetMapping</span>(<span class="string">"/{id}"</span>)
    <span class="keyword">public</span> <span class="class-name">String</span> <span class="function">show</span>(<span class="annotation">@PathVariable</span> <span class="class-name">Long</span> id, <span class="class-name">Model</span> model) {
        <span class="keyword">return</span> <span class="string">"products/show"</span>;
    }

    <span class="comment">// GET /products/new</span>
    <span class="annotation">@GetMapping</span>(<span class="string">"/new"</span>)
    <span class="keyword">public</span> <span class="class-name">String</span> <span class="function">newForm</span>(<span class="class-name">Model</span> model) {
        model.addAttribute(<span class="string">"product"</span>, <span class="keyword">new</span> <span class="class-name">Product</span>());
        <span class="keyword">return</span> <span class="string">"products/form"</span>;
    }

    <span class="comment">// POST /products</span>
    <span class="annotation">@PostMapping</span>
    <span class="keyword">public</span> <span class="class-name">String</span> <span class="function">create</span>(<span class="annotation">@ModelAttribute</span> <span class="class-name">Product</span> product) {
        productService.save(product);
        <span class="keyword">return</span> <span class="string">"redirect:/products"</span>;  <span class="comment">// Redirect after POST</span>
    }

    <span class="comment">// PUT /products/123</span>
    <span class="annotation">@PutMapping</span>(<span class="string">"/{id}"</span>)
    <span class="keyword">public</span> <span class="class-name">String</span> <span class="function">update</span>(<span class="annotation">@PathVariable</span> <span class="class-name">Long</span> id,
                         <span class="annotation">@ModelAttribute</span> <span class="class-name">Product</span> product) {
        productService.update(id, product);
        <span class="keyword">return</span> <span class="string">"redirect:/products/"</span> + id;
    }

    <span class="comment">// DELETE /products/123</span>
    <span class="annotation">@DeleteMapping</span>(<span class="string">"/{id}"</span>)
    <span class="keyword">public</span> <span class="class-name">String</span> <span class="function">delete</span>(<span class="annotation">@PathVariable</span> <span class="class-name">Long</span> id) {
        productService.delete(id);
        <span class="keyword">return</span> <span class="string">"redirect:/products"</span>;
    }
}</code></pre>
        </section>

        <section class="content-section">
            <h2>Request Parameters</h2>

            <pre><code><span class="annotation">@Controller</span>
<span class="keyword">public class</span> <span class="class-name">SearchController</span> {

    <span class="comment">// Path variable: /users/123</span>
    <span class="annotation">@GetMapping</span>(<span class="string">"/users/{id}"</span>)
    <span class="keyword">public</span> <span class="class-name">String</span> <span class="function">getUser</span>(<span class="annotation">@PathVariable</span> <span class="class-name">Long</span> id) {
        <span class="comment">// id = 123</span>
    }

    <span class="comment">// Query parameter: /search?q=java&page=1</span>
    <span class="annotation">@GetMapping</span>(<span class="string">"/search"</span>)
    <span class="keyword">public</span> <span class="class-name">String</span> <span class="function">search</span>(
            <span class="annotation">@RequestParam</span> <span class="class-name">String</span> q,
            <span class="annotation">@RequestParam</span>(defaultValue = <span class="string">"1"</span>) <span class="keyword">int</span> page,
            <span class="annotation">@RequestParam</span>(required = <span class="keyword">false</span>) <span class="class-name">String</span> sort) {
        <span class="comment">// q = "java", page = 1, sort = null</span>
    }

    <span class="comment">// Request header</span>
    <span class="annotation">@GetMapping</span>(<span class="string">"/api/data"</span>)
    <span class="keyword">public</span> <span class="class-name">String</span> <span class="function">getData</span>(<span class="annotation">@RequestHeader</span>(<span class="string">"Authorization"</span>) <span class="class-name">String</span> authHeader) {
        <span class="comment">// Access Authorization header</span>
    }

    <span class="comment">// Cookie value</span>
    <span class="annotation">@GetMapping</span>(<span class="string">"/prefs"</span>)
    <span class="keyword">public</span> <span class="class-name">String</span> <span class="function">getPrefs</span>(<span class="annotation">@CookieValue</span>(<span class="string">"theme"</span>) <span class="class-name">String</span> theme) {
        <span class="comment">// Access cookie value</span>
    }

    <span class="comment">// Request body (for POST/PUT)</span>
    <span class="annotation">@PostMapping</span>(<span class="string">"/api/users"</span>)
    <span class="keyword">public</span> <span class="class-name">User</span> <span class="function">createUser</span>(<span class="annotation">@RequestBody</span> <span class="class-name">User</span> user) {
        <span class="comment">// JSON body converted to User object</span>
    }

    <span class="comment">// Form data</span>
    <span class="annotation">@PostMapping</span>(<span class="string">"/register"</span>)
    <span class="keyword">public</span> <span class="class-name">String</span> <span class="function">register</span>(<span class="annotation">@ModelAttribute</span> <span class="class-name">RegistrationForm</span> form) {
        <span class="comment">// Form fields bound to object</span>
    }
}</code></pre>
        </section>

        <section class="content-section">
            <h2>Model and View</h2>

            <h3>Adding Data to Model</h3>
            <pre><code><span class="annotation">@Controller</span>
<span class="keyword">public class</span> <span class="class-name">DashboardController</span> {

    <span class="comment">// Method 1: Model parameter</span>
    <span class="annotation">@GetMapping</span>(<span class="string">"/dashboard"</span>)
    <span class="keyword">public</span> <span class="class-name">String</span> <span class="function">dashboard</span>(<span class="class-name">Model</span> model) {
        model.addAttribute(<span class="string">"user"</span>, getCurrentUser());
        model.addAttribute(<span class="string">"stats"</span>, getStats());
        <span class="keyword">return</span> <span class="string">"dashboard"</span>;
    }

    <span class="comment">// Method 2: ModelAndView</span>
    <span class="annotation">@GetMapping</span>(<span class="string">"/profile"</span>)
    <span class="keyword">public</span> <span class="class-name">ModelAndView</span> <span class="function">profile</span>() {
        <span class="class-name">ModelAndView</span> mav = <span class="keyword">new</span> <span class="class-name">ModelAndView</span>(<span class="string">"profile"</span>);
        mav.addObject(<span class="string">"user"</span>, getCurrentUser());
        <span class="keyword">return</span> mav;
    }

    <span class="comment">// Method 3: Return object directly with @ModelAttribute</span>
    <span class="annotation">@ModelAttribute</span>(<span class="string">"categories"</span>)
    <span class="keyword">public</span> <span class="class-name">List</span>&lt;<span class="class-name">Category</span>&gt; <span class="function">categories</span>() {
        <span class="comment">// Available to ALL handler methods in this controller</span>
        <span class="keyword">return</span> categoryService.findAll();
    }
}</code></pre>

            <h3>View Resolution with Thymeleaf</h3>
            <pre><code><span class="comment">&lt;!-- src/main/resources/templates/dashboard.html --&gt;</span>
&lt;!DOCTYPE html&gt;
&lt;<span class="keyword">html</span> xmlns:th="http://www.thymeleaf.org"&gt;
&lt;<span class="keyword">head</span>&gt;
    &lt;<span class="keyword">title</span>&gt;Dashboard&lt;/<span class="keyword">title</span>&gt;
&lt;/<span class="keyword">head</span>&gt;
&lt;<span class="keyword">body</span>&gt;
    &lt;<span class="keyword">h1</span> th:text="${user.name}"&gt;Username&lt;/<span class="keyword">h1</span>&gt;

    &lt;<span class="keyword">ul</span>&gt;
        &lt;<span class="keyword">li</span> th:each="stat : ${stats}"&gt;
            &lt;<span class="keyword">span</span> th:text="${stat.name}"&gt;Stat&lt;/<span class="keyword">span</span>&gt;:
            &lt;<span class="keyword">span</span> th:text="${stat.value}"&gt;0&lt;/<span class="keyword">span</span>&gt;
        &lt;/<span class="keyword">li</span>&gt;
    &lt;/<span class="keyword">ul</span>&gt;

    <span class="comment">&lt;!-- Categories from @ModelAttribute --&gt;</span>
    &lt;<span class="keyword">select</span>&gt;
        &lt;<span class="keyword">option</span> th:each="cat : ${categories}"
                th:value="${cat.id}"
                th:text="${cat.name}"&gt;Category&lt;/<span class="keyword">option</span>&gt;
    &lt;/<span class="keyword">select</span>&gt;
&lt;/<span class="keyword">body</span>&gt;
&lt;/<span class="keyword">html</span>&gt;</code></pre>
        </section>

        <section class="content-section">
            <h2>Form Handling</h2>

            <pre><code><span class="comment">// Form backing object</span>
<span class="keyword">public class</span> <span class="class-name">ProductForm</span> {
    <span class="annotation">@NotBlank</span>(message = <span class="string">"Name is required"</span>)
    <span class="keyword">private</span> <span class="class-name">String</span> name;

    <span class="annotation">@Min</span>(value = <span class="number">0</span>, message = <span class="string">"Price must be positive"</span>)
    <span class="keyword">private</span> <span class="class-name">BigDecimal</span> price;

    <span class="annotation">@Size</span>(max = <span class="number">1000</span>)
    <span class="keyword">private</span> <span class="class-name">String</span> description;

    <span class="comment">// getters/setters</span>
}

<span class="annotation">@Controller</span>
<span class="annotation">@RequestMapping</span>(<span class="string">"/products"</span>)
<span class="keyword">public class</span> <span class="class-name">ProductController</span> {

    <span class="annotation">@GetMapping</span>(<span class="string">"/new"</span>)
    <span class="keyword">public</span> <span class="class-name">String</span> <span class="function">newForm</span>(<span class="class-name">Model</span> model) {
        model.addAttribute(<span class="string">"product"</span>, <span class="keyword">new</span> <span class="class-name">ProductForm</span>());
        <span class="keyword">return</span> <span class="string">"products/form"</span>;
    }

    <span class="annotation">@PostMapping</span>
    <span class="keyword">public</span> <span class="class-name">String</span> <span class="function">create</span>(
            <span class="annotation">@Valid</span> <span class="annotation">@ModelAttribute</span>(<span class="string">"product"</span>) <span class="class-name">ProductForm</span> form,
            <span class="class-name">BindingResult</span> result,
            <span class="class-name">RedirectAttributes</span> redirectAttrs) {

        <span class="comment">// Check for validation errors</span>
        <span class="keyword">if</span> (result.hasErrors()) {
            <span class="keyword">return</span> <span class="string">"products/form"</span>;  <span class="comment">// Show form with errors</span>
        }

        <span class="class-name">Product</span> product = productService.create(form);

        <span class="comment">// Flash attribute - available after redirect</span>
        redirectAttrs.addFlashAttribute(<span class="string">"message"</span>, <span class="string">"Product created!"</span>);
        redirectAttrs.addAttribute(<span class="string">"id"</span>, product.getId());

        <span class="keyword">return</span> <span class="string">"redirect:/products/{id}"</span>;
    }
}</code></pre>

            <h3>Thymeleaf Form</h3>
            <pre><code><span class="comment">&lt;!-- products/form.html --&gt;</span>
&lt;<span class="keyword">form</span> th:action="@{/products}" th:object="${product}" method="post"&gt;

    &lt;<span class="keyword">div</span> th:if="${#fields.hasErrors('*')}" class="errors"&gt;
        Please correct the errors below.
    &lt;/<span class="keyword">div</span>&gt;

    &lt;<span class="keyword">div</span>&gt;
        &lt;<span class="keyword">label</span>&gt;Name:&lt;/<span class="keyword">label</span>&gt;
        &lt;<span class="keyword">input</span> type="text" th:field="*{name}" /&gt;
        &lt;<span class="keyword">span</span> th:if="${#fields.hasErrors('name')}"
              th:errors="*{name}"
              class="error"&gt;Name error&lt;/<span class="keyword">span</span>&gt;
    &lt;/<span class="keyword">div</span>&gt;

    &lt;<span class="keyword">div</span>&gt;
        &lt;<span class="keyword">label</span>&gt;Price:&lt;/<span class="keyword">label</span>&gt;
        &lt;<span class="keyword">input</span> type="number" th:field="*{price}" step="0.01" /&gt;
        &lt;<span class="keyword">span</span> th:if="${#fields.hasErrors('price')}"
              th:errors="*{price}"
              class="error"&gt;Price error&lt;/<span class="keyword">span</span>&gt;
    &lt;/<span class="keyword">div</span>&gt;

    &lt;<span class="keyword">div</span>&gt;
        &lt;<span class="keyword">label</span>&gt;Description:&lt;/<span class="keyword">label</span>&gt;
        &lt;<span class="keyword">textarea</span> th:field="*{description}"&gt;&lt;/<span class="keyword">textarea</span>&gt;
    &lt;/<span class="keyword">div</span>&gt;

    &lt;<span class="keyword">button</span> type="submit"&gt;Save&lt;/<span class="keyword">button</span>&gt;
&lt;/<span class="keyword">form</span>&gt;</code></pre>
        </section>

        <section class="content-section">
            <h2>Exception Handling</h2>

            <pre><code><span class="comment">// Controller-level exception handling</span>
<span class="annotation">@Controller</span>
<span class="keyword">public class</span> <span class="class-name">ProductController</span> {

    <span class="annotation">@GetMapping</span>(<span class="string">"/products/{id}"</span>)
    <span class="keyword">public</span> <span class="class-name">String</span> <span class="function">show</span>(<span class="annotation">@PathVariable</span> <span class="class-name">Long</span> id, <span class="class-name">Model</span> model) {
        <span class="class-name">Product</span> product = productService.findById(id)
            .orElseThrow(() -> <span class="keyword">new</span> <span class="class-name">ProductNotFoundException</span>(id));
        model.addAttribute(<span class="string">"product"</span>, product);
        <span class="keyword">return</span> <span class="string">"products/show"</span>;
    }

    <span class="comment">// Handle exception in this controller only</span>
    <span class="annotation">@ExceptionHandler</span>(<span class="class-name">ProductNotFoundException</span>.<span class="keyword">class</span>)
    <span class="keyword">public</span> <span class="class-name">String</span> <span class="function">handleNotFound</span>(<span class="class-name">ProductNotFoundException</span> ex, <span class="class-name">Model</span> model) {
        model.addAttribute(<span class="string">"message"</span>, ex.getMessage());
        <span class="keyword">return</span> <span class="string">"error/404"</span>;
    }
}

<span class="comment">// Global exception handling</span>
<span class="annotation">@ControllerAdvice</span>
<span class="keyword">public class</span> <span class="class-name">GlobalExceptionHandler</span> {

    <span class="annotation">@ExceptionHandler</span>(<span class="class-name">ResourceNotFoundException</span>.<span class="keyword">class</span>)
    <span class="annotation">@ResponseStatus</span>(HttpStatus.NOT_FOUND)
    <span class="keyword">public</span> <span class="class-name">String</span> <span class="function">handleNotFound</span>(<span class="class-name">ResourceNotFoundException</span> ex, <span class="class-name">Model</span> model) {
        model.addAttribute(<span class="string">"error"</span>, ex.getMessage());
        <span class="keyword">return</span> <span class="string">"error/404"</span>;
    }

    <span class="annotation">@ExceptionHandler</span>(<span class="class-name">Exception</span>.<span class="keyword">class</span>)
    <span class="annotation">@ResponseStatus</span>(HttpStatus.INTERNAL_SERVER_ERROR)
    <span class="keyword">public</span> <span class="class-name">String</span> <span class="function">handleGeneral</span>(<span class="class-name">Exception</span> ex, <span class="class-name">Model</span> model) {
        model.addAttribute(<span class="string">"error"</span>, <span class="string">"An error occurred"</span>);
        <span class="keyword">return</span> <span class="string">"error/500"</span>;
    }
}

<span class="comment">// REST API exception handling</span>
<span class="annotation">@RestControllerAdvice</span>
<span class="keyword">public class</span> <span class="class-name">RestExceptionHandler</span> {

    <span class="annotation">@ExceptionHandler</span>(<span class="class-name">ResourceNotFoundException</span>.<span class="keyword">class</span>)
    <span class="annotation">@ResponseStatus</span>(HttpStatus.NOT_FOUND)
    <span class="keyword">public</span> <span class="class-name">ErrorResponse</span> <span class="function">handleNotFound</span>(<span class="class-name">ResourceNotFoundException</span> ex) {
        <span class="keyword">return new</span> <span class="class-name">ErrorResponse</span>(<span class="string">"NOT_FOUND"</span>, ex.getMessage());
    }

    <span class="annotation">@ExceptionHandler</span>(<span class="class-name">MethodArgumentNotValidException</span>.<span class="keyword">class</span>)
    <span class="annotation">@ResponseStatus</span>(HttpStatus.BAD_REQUEST)
    <span class="keyword">public</span> <span class="class-name">ErrorResponse</span> <span class="function">handleValidation</span>(<span class="class-name">MethodArgumentNotValidException</span> ex) {
        <span class="class-name">List</span>&lt;<span class="class-name">String</span>&gt; errors = ex.getBindingResult()
            .getFieldErrors()
            .stream()
            .map(e -> e.getField() + <span class="string">": "</span> + e.getDefaultMessage())
            .toList();
        <span class="keyword">return new</span> <span class="class-name">ErrorResponse</span>(<span class="string">"VALIDATION_ERROR"</span>, errors);
    }
}</code></pre>
        </section>

        <section class="content-section">
            <h2>Interceptors</h2>

            <pre><code><span class="comment">// Custom interceptor</span>
<span class="annotation">@Component</span>
<span class="keyword">public class</span> <span class="class-name">LoggingInterceptor</span> <span class="keyword">implements</span> <span class="class-name">HandlerInterceptor</span> {

    <span class="annotation">@Override</span>
    <span class="keyword">public boolean</span> <span class="function">preHandle</span>(<span class="class-name">HttpServletRequest</span> request,
                              <span class="class-name">HttpServletResponse</span> response,
                              <span class="class-name">Object</span> handler) {
        <span class="comment">// Before controller method</span>
        <span class="class-name">System</span>.out.println(<span class="string">"Request: "</span> + request.getRequestURI());
        request.setAttribute(<span class="string">"startTime"</span>, <span class="class-name">System</span>.currentTimeMillis());
        <span class="keyword">return true</span>;  <span class="comment">// Continue to controller</span>
    }

    <span class="annotation">@Override</span>
    <span class="keyword">public void</span> <span class="function">postHandle</span>(<span class="class-name">HttpServletRequest</span> request,
                           <span class="class-name">HttpServletResponse</span> response,
                           <span class="class-name">Object</span> handler,
                           <span class="class-name">ModelAndView</span> modelAndView) {
        <span class="comment">// After controller, before view rendering</span>
    }

    <span class="annotation">@Override</span>
    <span class="keyword">public void</span> <span class="function">afterCompletion</span>(<span class="class-name">HttpServletRequest</span> request,
                                 <span class="class-name">HttpServletResponse</span> response,
                                 <span class="class-name">Object</span> handler,
                                 <span class="class-name">Exception</span> ex) {
        <span class="comment">// After view rendering, cleanup</span>
        <span class="keyword">long</span> startTime = (<span class="class-name">Long</span>) request.getAttribute(<span class="string">"startTime"</span>);
        <span class="class-name">System</span>.out.println(<span class="string">"Duration: "</span> + (<span class="class-name">System</span>.currentTimeMillis() - startTime) + <span class="string">"ms"</span>);
    }
}

<span class="comment">// Register interceptor</span>
<span class="annotation">@Configuration</span>
<span class="keyword">public class</span> <span class="class-name">WebConfig</span> <span class="keyword">implements</span> <span class="class-name">WebMvcConfigurer</span> {

    <span class="annotation">@Autowired</span>
    <span class="keyword">private</span> <span class="class-name">LoggingInterceptor</span> loggingInterceptor;

    <span class="annotation">@Override</span>
    <span class="keyword">public void</span> <span class="function">addInterceptors</span>(<span class="class-name">InterceptorRegistry</span> registry) {
        registry.addInterceptor(loggingInterceptor)
                .addPathPatterns(<span class="string">"/**"</span>)             <span class="comment">// Apply to all paths</span>
                .excludePathPatterns(<span class="string">"/static/**"</span>); <span class="comment">// Except static resources</span>
    }
}</code></pre>
        </section>

        <section class="content-section">
            <h2>Static Resources</h2>

            <pre><code><span class="comment"># Default static resource locations (in order):</span>
<span class="comment"># 1. /META-INF/resources/</span>
<span class="comment"># 2. /resources/</span>
<span class="comment"># 3. /static/</span>
<span class="comment"># 4. /public/</span>

<span class="comment"># Customize in application.properties:</span>
spring.web.resources.static-locations=classpath:/static/,classpath:/custom/

<span class="comment"># Cache control for static resources</span>
spring.web.resources.cache.period=31536000
spring.web.resources.chain.strategy.content.enabled=true
spring.web.resources.chain.strategy.content.paths=/**</code></pre>

            <pre><code><span class="comment">// Custom static resource configuration</span>
<span class="annotation">@Configuration</span>
<span class="keyword">public class</span> <span class="class-name">WebConfig</span> <span class="keyword">implements</span> <span class="class-name">WebMvcConfigurer</span> {

    <span class="annotation">@Override</span>
    <span class="keyword">public void</span> <span class="function">addResourceHandlers</span>(<span class="class-name">ResourceHandlerRegistry</span> registry) {
        registry.addResourceHandler(<span class="string">"/files/**"</span>)
                .addResourceLocations(<span class="string">"file:/var/uploads/"</span>)
                .setCacheControl(<span class="class-name">CacheControl</span>.maxAge(<span class="number">1</span>, <span class="class-name">TimeUnit</span>.HOURS));
    }
}</code></pre>
        </section>

        <section class="content-section">
            <h2>Summary</h2>
            <div class="info-box">
                <ul>
                    <li><strong>Spring MVC:</strong> Model-View-Controller web framework</li>
                    <li><strong>DispatcherServlet:</strong> Front controller that routes requests</li>
                    <li><strong>@Controller:</strong> Returns views (HTML pages)</li>
                    <li><strong>@RestController:</strong> Returns data (JSON/XML)</li>
                    <li><strong>@RequestMapping:</strong> Maps URLs to handler methods</li>
                    <li><strong>@PathVariable:</strong> Extracts URL path segments</li>
                    <li><strong>@RequestParam:</strong> Extracts query parameters</li>
                    <li><strong>@RequestBody:</strong> Binds JSON/XML to objects</li>
                    <li><strong>@ModelAttribute:</strong> Binds form data to objects</li>
                    <li><strong>@Valid:</strong> Triggers bean validation</li>
                    <li><strong>@ExceptionHandler:</strong> Handles exceptions</li>
                    <li><strong>@ControllerAdvice:</strong> Global exception handling</li>
                </ul>
            </div>
        </section>

        <section class="related-topics">
            <h3>Related Topics</h3>
            <div class="related-links">
                <a href="boot.html" class="related-link">Spring Boot Basics</a>
                <a href="rest.html" class="related-link">Spring REST</a>
                <a href="security.html" class="related-link">Spring Security</a>
            </div>
        </section>
    </main>

    <footer class="site-footer">
        <p>&copy; 2026 JavaDev Bible</p>
    </footer>

    <script src="../../js/navigation.js"></script>
</body>
</html>
