<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Version Management - JavaDev Bible</title>
    <link rel="stylesheet" href="../../css/main.css">
    <link rel="stylesheet" href="../../css/syntax-highlighting.css">
</head>
<body class="topic-page">
    <header class="topic-header">
        <div class="header-content">
            <nav class="breadcrumb">
                <a href="../../index.html">Home</a> / <a href="../../index.html#build-tools">Build Tools</a> / Version Management
            </nav>
            <h1>Version Management</h1>
            <p class="topic-subtitle">Managing dependency versions effectively in Maven and Gradle</p>
            <a href="../../index.html" class="back-btn">&larr; Back to Index</a>
        </div>
    </header>

    <main class="topic-content">
        <section class="content-section">
            <h2>Why Version Management Matters</h2>
            <p><strong>Think of versions like recipe ingredients:</strong></p>
            <ul>
                <li><strong>Without version management:</strong> "Add some flour" - unclear, inconsistent results</li>
                <li><strong>With version management:</strong> "Add 2 cups of flour" - precise, reproducible</li>
            </ul>

            <div class="info-box">
                <p><strong>Version management ensures:</strong></p>
                <ul>
                    <li><strong>Reproducible builds:</strong> Same code + same versions = same result</li>
                    <li><strong>Security:</strong> Track and update vulnerable dependencies</li>
                    <li><strong>Compatibility:</strong> Avoid conflicts between libraries</li>
                    <li><strong>Maintainability:</strong> Centralized version updates</li>
                </ul>
            </div>
        </section>

        <section class="content-section">
            <h2>Semantic Versioning (SemVer)</h2>

            <pre><code><span class="comment">// Version format: MAJOR.MINOR.PATCH</span>
<span class="comment">//                   1   . 2   . 3</span>

<span class="comment">// Examples:</span>
<span class="comment">// 1.0.0  - First stable release</span>
<span class="comment">// 1.0.1  - Bug fix (PATCH)</span>
<span class="comment">// 1.1.0  - New feature, backward compatible (MINOR)</span>
<span class="comment">// 2.0.0  - Breaking changes (MAJOR)</span>

<span class="comment">// When to increment:</span>
<span class="comment">// MAJOR - Incompatible API changes (breaking)</span>
<span class="comment">//         Example: Removed method, changed signature</span>
<span class="comment">// MINOR - Added functionality (backward compatible)</span>
<span class="comment">//         Example: New method, new feature</span>
<span class="comment">// PATCH - Bug fixes (backward compatible)</span>
<span class="comment">//         Example: Fixed null pointer, performance fix</span></code></pre>

            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Version Change</th>
                        <th>Meaning</th>
                        <th>Safe to Upgrade?</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>1.2.3 &rarr; 1.2.4</td>
                        <td>Bug fix</td>
                        <td>Yes, always</td>
                    </tr>
                    <tr>
                        <td>1.2.3 &rarr; 1.3.0</td>
                        <td>New features</td>
                        <td>Yes, usually</td>
                    </tr>
                    <tr>
                        <td>1.2.3 &rarr; 2.0.0</td>
                        <td>Breaking changes</td>
                        <td>Review required</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section class="content-section">
            <h2>SNAPSHOT vs Release Versions</h2>

            <pre><code><span class="comment">&lt;!-- SNAPSHOT - Development version --&gt;</span>
&lt;<span class="keyword">version</span>&gt;1.0.0-SNAPSHOT&lt;/<span class="keyword">version</span>&gt;

<span class="comment">&lt;!-- Release - Stable, immutable version --&gt;</span>
&lt;<span class="keyword">version</span>&gt;1.0.0&lt;/<span class="keyword">version</span>&gt;</code></pre>

            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>Aspect</th>
                        <th>SNAPSHOT</th>
                        <th>Release</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><strong>Purpose</strong></td>
                        <td>Development, testing</td>
                        <td>Production use</td>
                    </tr>
                    <tr>
                        <td><strong>Mutability</strong></td>
                        <td>Can change anytime</td>
                        <td>Immutable (never changes)</td>
                    </tr>
                    <tr>
                        <td><strong>Maven behavior</strong></td>
                        <td>Checks for updates daily</td>
                        <td>Downloads once, cached forever</td>
                    </tr>
                    <tr>
                        <td><strong>Reproducibility</strong></td>
                        <td>Not guaranteed</td>
                        <td>Guaranteed</td>
                    </tr>
                    <tr>
                        <td><strong>In production?</strong></td>
                        <td>Never!</td>
                        <td>Always</td>
                    </tr>
                </tbody>
            </table>

            <div class="info-box warning">
                <div class="info-box-title">Warning</div>
                <p>Never deploy SNAPSHOT versions to production! They can change without notice, making builds unreproducible and potentially introducing bugs.</p>
            </div>

            <h3>Other Version Suffixes</h3>
            <pre><code><span class="comment">&lt;!-- Common version qualifiers --&gt;</span>
1.0.0-SNAPSHOT     <span class="comment">&lt;!-- Development --&gt;</span>
1.0.0-alpha        <span class="comment">&lt;!-- Early testing, unstable --&gt;</span>
1.0.0-beta         <span class="comment">&lt;!-- Feature complete, testing --&gt;</span>
1.0.0-RC1          <span class="comment">&lt;!-- Release Candidate 1 --&gt;</span>
1.0.0-M1           <span class="comment">&lt;!-- Milestone 1 --&gt;</span>
1.0.0              <span class="comment">&lt;!-- Final release --&gt;</span>
1.0.0-GA           <span class="comment">&lt;!-- General Availability (same as final) --&gt;</span>

<span class="comment">&lt;!-- Version ordering (lowest to highest): --&gt;</span>
<span class="comment">&lt;!-- alpha &lt; beta &lt; milestone &lt; rc &lt; snapshot &lt; final --&gt;</span></code></pre>
        </section>

        <section class="content-section">
            <h2>Centralizing Versions with Properties</h2>

            <pre><code>&lt;<span class="keyword">project</span>&gt;
    &lt;<span class="keyword">properties</span>&gt;
        <span class="comment">&lt;!-- Define versions in one place --&gt;</span>
        &lt;<span class="keyword">spring.version</span>&gt;6.1.0&lt;/<span class="keyword">spring.version</span>&gt;
        &lt;<span class="keyword">jackson.version</span>&gt;2.16.0&lt;/<span class="keyword">jackson.version</span>&gt;
        &lt;<span class="keyword">junit.version</span>&gt;5.10.0&lt;/<span class="keyword">junit.version</span>&gt;
        &lt;<span class="keyword">lombok.version</span>&gt;1.18.30&lt;/<span class="keyword">lombok.version</span>&gt;
    &lt;/<span class="keyword">properties</span>&gt;

    &lt;<span class="keyword">dependencies</span>&gt;
        <span class="comment">&lt;!-- Use property references --&gt;</span>
        &lt;<span class="keyword">dependency</span>&gt;
            &lt;<span class="keyword">groupId</span>&gt;org.springframework&lt;/<span class="keyword">groupId</span>&gt;
            &lt;<span class="keyword">artifactId</span>&gt;spring-core&lt;/<span class="keyword">artifactId</span>&gt;
            &lt;<span class="keyword">version</span>&gt;${spring.version}&lt;/<span class="keyword">version</span>&gt;
        &lt;/<span class="keyword">dependency</span>&gt;

        &lt;<span class="keyword">dependency</span>&gt;
            &lt;<span class="keyword">groupId</span>&gt;org.springframework&lt;/<span class="keyword">groupId</span>&gt;
            &lt;<span class="keyword">artifactId</span>&gt;spring-web&lt;/<span class="keyword">artifactId</span>&gt;
            &lt;<span class="keyword">version</span>&gt;${spring.version}&lt;/<span class="keyword">version</span>&gt;  <span class="comment">&lt;!-- Same version --&gt;</span>
        &lt;/<span class="keyword">dependency</span>&gt;

        &lt;<span class="keyword">dependency</span>&gt;
            &lt;<span class="keyword">groupId</span>&gt;com.fasterxml.jackson.core&lt;/<span class="keyword">groupId</span>&gt;
            &lt;<span class="keyword">artifactId</span>&gt;jackson-databind&lt;/<span class="keyword">artifactId</span>&gt;
            &lt;<span class="keyword">version</span>&gt;${jackson.version}&lt;/<span class="keyword">version</span>&gt;
        &lt;/<span class="keyword">dependency</span>&gt;
    &lt;/<span class="keyword">dependencies</span>&gt;
&lt;/<span class="keyword">project</span>&gt;</code></pre>

            <div class="info-box note">
                <div class="info-box-title">Benefits</div>
                <ul>
                    <li>Update version in one place, applies everywhere</li>
                    <li>Ensures related libraries use matching versions</li>
                    <li>Easy to review all versions at a glance</li>
                </ul>
            </div>
        </section>

        <section class="content-section">
            <h2>Bill of Materials (BOM)</h2>
            <p>A BOM is a special POM that defines a set of compatible dependency versions.</p>

            <pre><code><span class="comment">&lt;!-- Import a BOM to manage versions automatically --&gt;</span>
&lt;<span class="keyword">dependencyManagement</span>&gt;
    &lt;<span class="keyword">dependencies</span>&gt;
        <span class="comment">&lt;!-- Spring Boot BOM --&gt;</span>
        &lt;<span class="keyword">dependency</span>&gt;
            &lt;<span class="keyword">groupId</span>&gt;org.springframework.boot&lt;/<span class="keyword">groupId</span>&gt;
            &lt;<span class="keyword">artifactId</span>&gt;spring-boot-dependencies&lt;/<span class="keyword">artifactId</span>&gt;
            &lt;<span class="keyword">version</span>&gt;3.2.0&lt;/<span class="keyword">version</span>&gt;
            &lt;<span class="keyword">type</span>&gt;pom&lt;/<span class="keyword">type</span>&gt;
            &lt;<span class="keyword">scope</span>&gt;import&lt;/<span class="keyword">scope</span>&gt;
        &lt;/<span class="keyword">dependency</span>&gt;

        <span class="comment">&lt;!-- Jackson BOM --&gt;</span>
        &lt;<span class="keyword">dependency</span>&gt;
            &lt;<span class="keyword">groupId</span>&gt;com.fasterxml.jackson&lt;/<span class="keyword">groupId</span>&gt;
            &lt;<span class="keyword">artifactId</span>&gt;jackson-bom&lt;/<span class="keyword">artifactId</span>&gt;
            &lt;<span class="keyword">version</span>&gt;2.16.0&lt;/<span class="keyword">version</span>&gt;
            &lt;<span class="keyword">type</span>&gt;pom&lt;/<span class="keyword">type</span>&gt;
            &lt;<span class="keyword">scope</span>&gt;import&lt;/<span class="keyword">scope</span>&gt;
        &lt;/<span class="keyword">dependency</span>&gt;
    &lt;/<span class="keyword">dependencies</span>&gt;
&lt;/<span class="keyword">dependencyManagement</span>&gt;

<span class="comment">&lt;!-- Now you can omit versions! --&gt;</span>
&lt;<span class="keyword">dependencies</span>&gt;
    &lt;<span class="keyword">dependency</span>&gt;
        &lt;<span class="keyword">groupId</span>&gt;org.springframework.boot&lt;/<span class="keyword">groupId</span>&gt;
        &lt;<span class="keyword">artifactId</span>&gt;spring-boot-starter-web&lt;/<span class="keyword">artifactId</span>&gt;
        <span class="comment">&lt;!-- Version managed by BOM --&gt;</span>
    &lt;/<span class="keyword">dependency</span>&gt;

    &lt;<span class="keyword">dependency</span>&gt;
        &lt;<span class="keyword">groupId</span>&gt;com.fasterxml.jackson.core&lt;/<span class="keyword">groupId</span>&gt;
        &lt;<span class="keyword">artifactId</span>&gt;jackson-databind&lt;/<span class="keyword">artifactId</span>&gt;
        <span class="comment">&lt;!-- Version managed by Jackson BOM --&gt;</span>
    &lt;/<span class="keyword">dependency</span>&gt;
&lt;/<span class="keyword">dependencies</span>&gt;</code></pre>

            <h3>Popular BOMs</h3>
            <table class="comparison-table">
                <thead>
                    <tr>
                        <th>BOM</th>
                        <th>What It Manages</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td><code>spring-boot-dependencies</code></td>
                        <td>All Spring Boot compatible libraries</td>
                    </tr>
                    <tr>
                        <td><code>spring-framework-bom</code></td>
                        <td>Spring Framework modules</td>
                    </tr>
                    <tr>
                        <td><code>jackson-bom</code></td>
                        <td>Jackson JSON library modules</td>
                    </tr>
                    <tr>
                        <td><code>junit-bom</code></td>
                        <td>JUnit 5 modules</td>
                    </tr>
                    <tr>
                        <td><code>aws-sdk-java-pom</code></td>
                        <td>AWS SDK modules</td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section class="content-section">
            <h2>Version Ranges (Use Carefully!)</h2>

            <pre><code><span class="comment">&lt;!-- Maven version range syntax --&gt;</span>

<span class="comment">&lt;!-- Exact version --&gt;</span>
&lt;<span class="keyword">version</span>&gt;1.0&lt;/<span class="keyword">version</span>&gt;           <span class="comment">&lt;!-- 1.0 (soft requirement) --&gt;</span>

<span class="comment">&lt;!-- Ranges --&gt;</span>
&lt;<span class="keyword">version</span>&gt;[1.0]&lt;/<span class="keyword">version</span>&gt;         <span class="comment">&lt;!-- Exactly 1.0 (hard requirement) --&gt;</span>
&lt;<span class="keyword">version</span>&gt;[1.0,2.0)&lt;/<span class="keyword">version</span>&gt;     <span class="comment">&lt;!-- 1.0 &lt;= x &lt; 2.0 --&gt;</span>
&lt;<span class="keyword">version</span>&gt;[1.0,2.0]&lt;/<span class="keyword">version</span>&gt;     <span class="comment">&lt;!-- 1.0 &lt;= x &lt;= 2.0 --&gt;</span>
&lt;<span class="keyword">version</span>&gt;(1.0,2.0)&lt;/<span class="keyword">version</span>&gt;     <span class="comment">&lt;!-- 1.0 &lt; x &lt; 2.0 --&gt;</span>
&lt;<span class="keyword">version</span>&gt;[1.0,)&lt;/<span class="keyword">version</span>&gt;        <span class="comment">&lt;!-- x &gt;= 1.0 --&gt;</span>
&lt;<span class="keyword">version</span>&gt;(,2.0]&lt;/<span class="keyword">version</span>&gt;        <span class="comment">&lt;!-- x &lt;= 2.0 --&gt;</span>

<span class="comment">&lt;!-- Example: Accept any 1.x version --&gt;</span>
&lt;<span class="keyword">dependency</span>&gt;
    &lt;<span class="keyword">groupId</span>&gt;com.example&lt;/<span class="keyword">groupId</span>&gt;
    &lt;<span class="keyword">artifactId</span>&gt;my-lib&lt;/<span class="keyword">artifactId</span>&gt;
    &lt;<span class="keyword">version</span>&gt;[1.0,2.0)&lt;/<span class="keyword">version</span>&gt;
&lt;/<span class="keyword">dependency</span>&gt;</code></pre>

            <div class="info-box warning">
                <div class="info-box-title">Avoid Version Ranges</div>
                <p>Version ranges make builds non-reproducible. A build today might use 1.5, tomorrow 1.6. This can introduce unexpected bugs. Use exact versions instead.</p>
            </div>
        </section>

        <section class="content-section">
            <h2>Resolving Version Conflicts</h2>

            <pre><code><span class="comment"># When two dependencies need different versions of the same library</span>

<span class="comment"># Check your dependency tree</span>
mvn dependency:tree

<span class="comment"># Example output showing conflict:</span>
<span class="comment"># [INFO] com.example:my-app:jar:1.0.0</span>
<span class="comment"># [INFO] +- org.springframework:spring-web:jar:6.1.0:compile</span>
<span class="comment"># [INFO] |  \- org.springframework:spring-core:jar:6.1.0:compile</span>
<span class="comment"># [INFO] \- some-library:some-lib:jar:1.0:compile</span>
<span class="comment"># [INFO]    \- org.springframework:spring-core:jar:5.3.0:compile (conflict!)</span></code></pre>

            <h3>Solution 1: Exclude Transitive Dependency</h3>
            <pre><code>&lt;<span class="keyword">dependency</span>&gt;
    &lt;<span class="keyword">groupId</span>&gt;some-library&lt;/<span class="keyword">groupId</span>&gt;
    &lt;<span class="keyword">artifactId</span>&gt;some-lib&lt;/<span class="keyword">artifactId</span>&gt;
    &lt;<span class="keyword">version</span>&gt;1.0&lt;/<span class="keyword">version</span>&gt;
    &lt;<span class="keyword">exclusions</span>&gt;
        &lt;<span class="keyword">exclusion</span>&gt;
            &lt;<span class="keyword">groupId</span>&gt;org.springframework&lt;/<span class="keyword">groupId</span>&gt;
            &lt;<span class="keyword">artifactId</span>&gt;spring-core&lt;/<span class="keyword">artifactId</span>&gt;
        &lt;/<span class="keyword">exclusion</span>&gt;
    &lt;/<span class="keyword">exclusions</span>&gt;
&lt;/<span class="keyword">dependency</span>&gt;</code></pre>

            <h3>Solution 2: Force Version in dependencyManagement</h3>
            <pre><code>&lt;<span class="keyword">dependencyManagement</span>&gt;
    &lt;<span class="keyword">dependencies</span>&gt;
        <span class="comment">&lt;!-- This version wins for ALL transitive dependencies --&gt;</span>
        &lt;<span class="keyword">dependency</span>&gt;
            &lt;<span class="keyword">groupId</span>&gt;org.springframework&lt;/<span class="keyword">groupId</span>&gt;
            &lt;<span class="keyword">artifactId</span>&gt;spring-core&lt;/<span class="keyword">artifactId</span>&gt;
            &lt;<span class="keyword">version</span>&gt;6.1.0&lt;/<span class="keyword">version</span>&gt;
        &lt;/<span class="keyword">dependency</span>&gt;
    &lt;/<span class="keyword">dependencies</span>&gt;
&lt;/<span class="keyword">dependencyManagement</span>&gt;</code></pre>

            <h3>Maven's Conflict Resolution Rules</h3>
            <ol>
                <li><strong>Nearest definition wins:</strong> Closer to your project in the dependency tree</li>
                <li><strong>First declaration wins:</strong> If same depth, first in POM order</li>
                <li><strong>dependencyManagement overrides all:</strong> Versions declared here always win</li>
            </ol>
        </section>

        <section class="content-section">
            <h2>Checking for Updates</h2>

            <pre><code><span class="comment"># Check for newer versions of dependencies</span>
mvn versions:display-dependency-updates

<span class="comment"># Output:</span>
<span class="comment"># [INFO] The following dependencies have newer versions:</span>
<span class="comment"># [INFO]   org.springframework:spring-core .......... 6.0.0 -> 6.1.0</span>
<span class="comment"># [INFO]   com.fasterxml.jackson.core:jackson-core . 2.15.0 -> 2.16.0</span>

<span class="comment"># Check for plugin updates</span>
mvn versions:display-plugin-updates

<span class="comment"># Update versions in pom.xml (interactive)</span>
mvn versions:use-latest-versions

<span class="comment"># Update to latest release versions</span>
mvn versions:use-latest-releases

<span class="comment"># Update properties that define versions</span>
mvn versions:update-properties</code></pre>
        </section>

        <section class="content-section">
            <h2>Version Management in Gradle</h2>

            <pre><code><span class="comment">// build.gradle.kts (Kotlin DSL)</span>

<span class="comment">// Define versions in one place</span>
<span class="keyword">val</span> springVersion = <span class="string">"6.1.0"</span>
<span class="keyword">val</span> jacksonVersion = <span class="string">"2.16.0"</span>

dependencies {
    implementation(<span class="string">"org.springframework:spring-core:$springVersion"</span>)
    implementation(<span class="string">"org.springframework:spring-web:$springVersion"</span>)
    implementation(<span class="string">"com.fasterxml.jackson.core:jackson-databind:$jacksonVersion"</span>)
}

<span class="comment">// Or use a BOM (platform)</span>
dependencies {
    implementation(platform(<span class="string">"org.springframework.boot:spring-boot-dependencies:3.2.0"</span>))
    implementation(<span class="string">"org.springframework.boot:spring-boot-starter-web"</span>)  <span class="comment">// No version!</span>
}

<span class="comment">// Version catalogs (recommended for larger projects)</span>
<span class="comment">// gradle/libs.versions.toml</span>
<span class="comment">// [versions]</span>
<span class="comment">// spring = "6.1.0"</span>
<span class="comment">// jackson = "2.16.0"</span>
<span class="comment">// [libraries]</span>
<span class="comment">// spring-core = { module = "org.springframework:spring-core", version.ref = "spring" }</span></code></pre>
        </section>

        <section class="content-section">
            <h2>Best Practices</h2>

            <div class="best-practices">
                <h3>DO:</h3>
                <ul>
                    <li><strong>Use exact versions</strong> - Reproducible builds</li>
                    <li><strong>Centralize versions</strong> - Properties or BOMs</li>
                    <li><strong>Use BOMs</strong> - For compatible library sets</li>
                    <li><strong>Review updates regularly</strong> - Security patches</li>
                    <li><strong>Test after upgrades</strong> - Even minor versions</li>
                    <li><strong>Document major version changes</strong> - Migration notes</li>
                    <li><strong>Use dependencyManagement</strong> - Control transitive versions</li>
                </ul>

                <h3>DON'T:</h3>
                <ul>
                    <li><strong>Don't use SNAPSHOT in production</strong> - Unreliable</li>
                    <li><strong>Don't use version ranges</strong> - Non-reproducible</li>
                    <li><strong>Don't mix major versions</strong> - spring-core 5 + spring-web 6</li>
                    <li><strong>Don't ignore security updates</strong> - CVE vulnerabilities</li>
                    <li><strong>Don't upgrade everything at once</strong> - Incremental upgrades</li>
                </ul>
            </div>
        </section>

        <section class="content-section">
            <h2>Summary</h2>
            <div class="info-box">
                <ul>
                    <li><strong>Semantic Versioning:</strong> MAJOR.MINOR.PATCH for clear meaning</li>
                    <li><strong>SNAPSHOT:</strong> Development only, never production</li>
                    <li><strong>Properties:</strong> Centralize versions in one place</li>
                    <li><strong>BOM:</strong> Pre-tested compatible version sets</li>
                    <li><strong>Conflicts:</strong> Use exclusions or dependencyManagement</li>
                    <li><strong>Updates:</strong> Regular reviews with <code>versions:display-dependency-updates</code></li>
                    <li><strong>Reproducibility:</strong> Exact versions ensure consistent builds</li>
                </ul>
            </div>
        </section>

        <section class="related-topics">
            <h3>Related Topics</h3>
            <div class="related-links">
                <a href="maven.html" class="related-link">What is Maven?</a>
                <a href="pom.html" class="related-link">POM.xml Structure</a>
                <a href="dependencies.html" class="related-link">Dependencies Management</a>
                <a href="scopes.html" class="related-link">Dependency Scopes</a>
            </div>
        </section>
    </main>

    <footer class="site-footer">
        <p>&copy; 2026 JavaDev Bible</p>
    </footer>

    <script src="../../js/navigation.js"></script>
</body>
</html>
