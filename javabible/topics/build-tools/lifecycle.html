<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Maven Lifecycle Phases - JavaDev Bible</title>
    <link rel="stylesheet" href="../../css/main.css">
    <link rel="stylesheet" href="../../css/syntax-highlighting.css">
</head>
<body class="topic-page">
    <header class="topic-header">
        <div class="header-content">
            <nav class="breadcrumb">
                <a href="../../index.html">Home</a> / <a href="../../index.html#build-tools">Build Tools</a> / Maven Lifecycle
            </nav>
            <h1>Maven Lifecycle Phases</h1>
            <p class="topic-subtitle">Understanding Maven's Build Lifecycle</p>
            <a href="../../index.html" class="back-btn">&larr; Back to Index</a>
        </div>
    </header>

    <main class="topic-content">
        <section class="content-section">
            <h2>What is Maven Lifecycle?</h2>
            <p>Maven's build lifecycle is a well-defined sequence of phases that dictate how a project is built and distributed. Understanding these phases helps you control and customize your build process.</p>

            <div class="info-box note">
                <div class="info-box-title">Three Built-in Lifecycles</div>
                <ul>
                    <li><strong>default</strong> - Handles project build and deployment</li>
                    <li><strong>clean</strong> - Handles project cleaning</li>
                    <li><strong>site</strong> - Handles project documentation</li>
                </ul>
            </div>
        </section>

        <section class="content-section">
            <h2>Default Lifecycle Phases</h2>

            <pre><code><span class="comment"># Complete list of default lifecycle phases (in order):</span>

validate      <span class="comment"># Validate project is correct</span>
initialize    <span class="comment"># Initialize build state</span>
generate-sources    <span class="comment"># Generate source code</span>
process-sources     <span class="comment"># Process source code</span>
generate-resources  <span class="comment"># Generate resources</span>
process-resources   <span class="comment"># Copy resources to output directory</span>
compile       <span class="comment"># Compile source code</span>
process-classes     <span class="comment"># Post-process compiled classes</span>
generate-test-sources   <span class="comment"># Generate test source code</span>
process-test-sources    <span class="comment"># Process test source code</span>
generate-test-resources <span class="comment"># Generate test resources</span>
process-test-resources  <span class="comment"># Copy test resources</span>
test-compile  <span class="comment"># Compile test source code</span>
process-test-classes    <span class="comment"># Post-process test classes</span>
test          <span class="comment"># Run unit tests</span>
prepare-package   <span class="comment"># Prepare for packaging</span>
package       <span class="comment"># Create JAR/WAR package</span>
pre-integration-test    <span class="comment"># Setup for integration tests</span>
integration-test        <span class="comment"># Run integration tests</span>
post-integration-test   <span class="comment"># Cleanup after integration tests</span>
verify        <span class="comment"># Run checks to verify package</span>
install       <span class="comment"># Install to local repository</span>
deploy        <span class="comment"># Deploy to remote repository</span></code></pre>

            <h3>Key Phases You'll Use Most</h3>
            <pre><code><span class="comment"># Commonly used phases:</span>

mvn compile       <span class="comment"># Compile main source code</span>
mvn test          <span class="comment"># Compile and run unit tests</span>
mvn package       <span class="comment"># Create JAR/WAR file</span>
mvn verify        <span class="comment"># Run all checks including integration tests</span>
mvn install       <span class="comment"># Install to local ~/.m2 repository</span>
mvn deploy        <span class="comment"># Deploy to remote repository</span></code></pre>

            <div class="info-box tip">
                <div class="info-box-title">Phase Execution</div>
                <p>When you run a phase, Maven executes all preceding phases. Running <code>mvn package</code> executes: validate &rarr; compile &rarr; test &rarr; package.</p>
            </div>
        </section>

        <section class="content-section">
            <h2>Clean Lifecycle</h2>

            <pre><code><span class="comment"># Clean lifecycle phases:</span>

pre-clean     <span class="comment"># Execute before cleaning</span>
clean         <span class="comment"># Remove target/ directory</span>
post-clean    <span class="comment"># Execute after cleaning</span>

<span class="comment"># Usage:</span>
mvn clean             <span class="comment"># Delete target/ directory</span>
mvn clean package     <span class="comment"># Clean then build package</span>
mvn clean install     <span class="comment"># Clean then build and install</span></code></pre>
        </section>

        <section class="content-section">
            <h2>Site Lifecycle</h2>

            <pre><code><span class="comment"># Site lifecycle phases:</span>

pre-site      <span class="comment"># Execute before site generation</span>
site          <span class="comment"># Generate project documentation</span>
post-site     <span class="comment"># Execute after site generation</span>
site-deploy   <span class="comment"># Deploy site to web server</span>

<span class="comment"># Usage:</span>
mvn site              <span class="comment"># Generate site in target/site/</span>
mvn site:run          <span class="comment"># Start local server to view site</span></code></pre>
        </section>

        <section class="content-section">
            <h2>Binding Goals to Phases</h2>

            <pre><code><span class="comment">&lt;!-- Plugin goals bound to specific phases --&gt;</span>
&lt;build&gt;
    &lt;plugins&gt;
        <span class="comment">&lt;!-- Runs during 'test' phase by default --&gt;</span>
        &lt;plugin&gt;
            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
            &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;
            &lt;version&gt;3.1.2&lt;/version&gt;
        &lt;/plugin&gt;

        <span class="comment">&lt;!-- Custom binding: run checkstyle during validate phase --&gt;</span>
        &lt;plugin&gt;
            &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
            &lt;artifactId&gt;maven-checkstyle-plugin&lt;/artifactId&gt;
            &lt;version&gt;3.3.0&lt;/version&gt;
            &lt;executions&gt;
                &lt;execution&gt;
                    &lt;id&gt;validate&lt;/id&gt;
                    &lt;phase&gt;validate&lt;/phase&gt;  <span class="comment">&lt;!-- Bind to phase --&gt;</span>
                    &lt;goals&gt;
                        &lt;goal&gt;check&lt;/goal&gt;   <span class="comment">&lt;!-- Goal to run --&gt;</span>
                    &lt;/goals&gt;
                &lt;/execution&gt;
            &lt;/executions&gt;
        &lt;/plugin&gt;
    &lt;/plugins&gt;
&lt;/build&gt;</code></pre>

            <h3>Common Plugin-Phase Bindings</h3>
            <pre><code><span class="comment"># Default bindings for JAR packaging:</span>

process-resources  &rarr; resources:resources
compile           &rarr; compiler:compile
process-test-resources &rarr; resources:testResources
test-compile      &rarr; compiler:testCompile
test              &rarr; surefire:test
package           &rarr; jar:jar
install           &rarr; install:install
deploy            &rarr; deploy:deploy</code></pre>
        </section>

        <section class="content-section">
            <h2>Running Specific Goals</h2>

            <pre><code><span class="comment"># Run a specific plugin goal (not a phase)</span>
mvn compiler:compile     <span class="comment"># Just compile, no preceding phases</span>
mvn surefire:test        <span class="comment"># Just test, no preceding phases</span>
mvn jar:jar              <span class="comment"># Just package JAR</span>

<span class="comment"># Useful standalone goals</span>
mvn dependency:tree      <span class="comment"># Show dependency tree</span>
mvn dependency:analyze   <span class="comment"># Analyze dependency usage</span>
mvn versions:display-dependency-updates  <span class="comment"># Check for updates</span>
mvn help:effective-pom   <span class="comment"># Show resolved POM</span>
mvn help:active-profiles <span class="comment"># Show active profiles</span></code></pre>
        </section>

        <section class="content-section">
            <h2>Skipping Phases</h2>

            <pre><code><span class="comment"># Skip tests</span>
mvn package -DskipTests           <span class="comment"># Compile tests but don't run</span>
mvn package -Dmaven.test.skip=true <span class="comment"># Don't compile or run tests</span>

<span class="comment"># Skip specific plugins</span>
mvn package -Dcheckstyle.skip=true  <span class="comment"># Skip checkstyle</span>
mvn package -Dpmd.skip=true         <span class="comment"># Skip PMD</span>
mvn package -Dspotbugs.skip=true    <span class="comment"># Skip SpotBugs</span>

<span class="comment"># Skip in POM (not recommended for CI)</span>
&lt;plugin&gt;
    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
    &lt;artifactId&gt;maven-surefire-plugin&lt;/artifactId&gt;
    &lt;configuration&gt;
        &lt;skip&gt;true&lt;/skip&gt;
    &lt;/configuration&gt;
&lt;/plugin&gt;</code></pre>
        </section>

        <section class="content-section">
            <h2>Integration Test Phases</h2>

            <pre><code><span class="comment">&lt;!-- Failsafe plugin for integration tests --&gt;</span>
&lt;plugin&gt;
    &lt;groupId&gt;org.apache.maven.plugins&lt;/groupId&gt;
    &lt;artifactId&gt;maven-failsafe-plugin&lt;/artifactId&gt;
    &lt;version&gt;3.1.2&lt;/version&gt;
    &lt;executions&gt;
        &lt;execution&gt;
            &lt;goals&gt;
                &lt;goal&gt;integration-test&lt;/goal&gt;  <span class="comment">&lt;!-- Run during integration-test phase --&gt;</span>
                &lt;goal&gt;verify&lt;/goal&gt;            <span class="comment">&lt;!-- Verify during verify phase --&gt;</span>
            &lt;/goals&gt;
        &lt;/execution&gt;
    &lt;/executions&gt;
&lt;/plugin&gt;

<span class="comment">&lt;!-- Test naming conventions --&gt;</span>
<span class="comment">&lt;!-- Surefire (unit tests): *Test.java, Test*.java --&gt;</span>
<span class="comment">&lt;!-- Failsafe (integration): *IT.java, IT*.java --&gt;</span>

<span class="comment"># Commands</span>
mvn test                  <span class="comment"># Run unit tests only</span>
mvn verify                <span class="comment"># Run unit AND integration tests</span>
mvn integration-test      <span class="comment"># Run integration tests (may not verify)</span></code></pre>
        </section>

        <section class="content-section">
            <h2>Multi-Module Builds</h2>

            <pre><code><span class="comment"># Building multi-module projects</span>

mvn install               <span class="comment"># Build all modules in order</span>
mvn install -pl module-a  <span class="comment"># Build only module-a</span>
mvn install -pl module-a -am  <span class="comment"># Build module-a AND its dependencies</span>
mvn install -pl module-a -amd <span class="comment"># Build module-a AND modules depending on it</span>
mvn install -rf :module-b     <span class="comment"># Resume from module-b</span>

<span class="comment"># Options:</span>
<span class="comment"># -pl (--projects)     : Build specific modules</span>
<span class="comment"># -am (--also-make)    : Also build required modules</span>
<span class="comment"># -amd (--also-make-dependents) : Also build dependent modules</span>
<span class="comment"># -rf (--resume-from)  : Resume from specified module</span></code></pre>
        </section>

        <section class="content-section">
            <h2>Lifecycle Reference</h2>

            <table class="info-table">
                <thead>
                    <tr>
                        <th>Phase</th>
                        <th>Purpose</th>
                        <th>Common Command</th>
                    </tr>
                </thead>
                <tbody>
                    <tr>
                        <td>validate</td>
                        <td>Check project is correct</td>
                        <td><code>mvn validate</code></td>
                    </tr>
                    <tr>
                        <td>compile</td>
                        <td>Compile source code</td>
                        <td><code>mvn compile</code></td>
                    </tr>
                    <tr>
                        <td>test</td>
                        <td>Run unit tests</td>
                        <td><code>mvn test</code></td>
                    </tr>
                    <tr>
                        <td>package</td>
                        <td>Create JAR/WAR</td>
                        <td><code>mvn package</code></td>
                    </tr>
                    <tr>
                        <td>verify</td>
                        <td>Run integration tests</td>
                        <td><code>mvn verify</code></td>
                    </tr>
                    <tr>
                        <td>install</td>
                        <td>Install to local repo</td>
                        <td><code>mvn install</code></td>
                    </tr>
                    <tr>
                        <td>deploy</td>
                        <td>Deploy to remote repo</td>
                        <td><code>mvn deploy</code></td>
                    </tr>
                </tbody>
            </table>
        </section>

        <section class="related-topics">
            <h3>Related Topics</h3>
            <div class="related-links">
                <a href="maven.html" class="related-link">What is Maven?</a>
                <a href="pom.html" class="related-link">POM.xml Structure</a>
                <a href="dependencies.html" class="related-link">Dependencies Management</a>
            </div>
        </section>
    </main>

    <footer class="site-footer">
        <p>&copy; 2026 JavaDev Bible</p>
    </footer>

    <script src="../../js/navigation.js"></script>
</body>
</html>
